# Generated by Apache Ambari. Thu Dec 26 09:59:42 2019
    
spark.driver.extraLibraryPath /usr/hdp/current/hadoop-client/lib/native:/usr/hdp/current/hadoop-client/lib/native/Linux-amd64-64
spark.eventLog.dir hdfs:///spark2-history/
spark.eventLog.enabled true
spark.executor.extraLibraryPath /usr/hdp/current/hadoop-client/lib/native:/usr/hdp/current/hadoop-client/lib/native/Linux-amd64-64
spark.history.fs.cleaner.enabled true
spark.history.fs.cleaner.interval 7d
spark.history.fs.cleaner.maxAge 90d
spark.history.fs.logDirectory hdfs:///spark2-history/
spark.history.kerberos.keytab none
spark.history.kerberos.principal none
spark.history.provider org.apache.spark.deploy.history.FsHistoryProvider
spark.history.store.path /var/lib/spark2/shs_db
spark.history.ui.port 18081
spark.io.compression.lz4.blockSize 128kb
spark.master yarn
spark.sql.hive.convertMetastoreOrc true
spark.sql.hive.metastore.jars /usr/local/spark/jars/*
spark.sql.hive.metastore.version 3.0
spark.sql.orc.filterPushdown true
spark.sql.orc.impl native
spark.sql.statistics.fallBackToHdfs true
spark.sql.warehouse.dir /apps/spark/warehouse
spark.yarn.historyServer.address 127.0.0.1:18081
spark.yarn.queue default

spark.shuffle.compress true
spark.rdd.compress true
spark.io.compression.codec lz4
spark.shuffle.spill.compress true
spark.locality.wait 3s   

spark.sql.cbo.joinReorder.enabled true
spark.sql.shuffle.partitions 150
spark.default.parallelism 360
#spark.executor.extraJavaOptions -XX:+UseNUMA
#spark.yarn.am.extraJavaOptions -XX:+UseNUMA
#spark.executor.extraJavaOptions -XX:+UseNUMA -XX:BoxTypeCachedMax=100000
spark.yarn.am.extraJavaOptions -XX:+UseNUMA -XX:BoxTypeCachedMax=100000
#spark.executor.extraJavaOptions -XX:+UseNUMA -Xshare:off -XX:+UseAppCDS -XX:DumpLoadedClassList=/home/test/spark-%p.lst
#spark.executor.extraJavaOptions -XX:+UseNUMA -Xshare:dump -XX:+UseAppCDS -XX:SharedClassListFile=/home/test/spark.lst -XX:SharedArchiveFile=/home/test/spark.jsa  
spark.executor.extraJavaOptions -XX:+UseNUMA -Xshare:on -XX:+UseAppCDS -XX:SharedArchiveFile=/home/test/spark.jsa
